{{- $isVerbatim := true -}}
{{- if isset .Attributes "verbatim" -}}
{{- $isVerbatim = .Attributes.verbatim -}}
{{- end -}}
<figure class="code">
  {{- with .Attributes.title }}
  <figcaption class="code-title">
    {{- if $isVerbatim -}}
    <span>{{ . }}</span> {{/* As a file name */}}
    {{- else -}}
    <span>{{ . | markdownify }}</span> {{/* As a code description */}}
    {{- end -}}

  </figcaption>

  {{- end }}
  <span class="code-block">
    {{- with transform.HighlightCodeBlock . -}}
    {{ .Wrapped }}
    {{- end -}}
  </span>
</figure>